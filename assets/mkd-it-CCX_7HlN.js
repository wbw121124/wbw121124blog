import{g as e,r as n,M as r,e as o,f as t,b as s,m as l,k as i}from"./markdown-CSG7SlHF.js";const c=e(n());let a=null;const k=async()=>{if(!a){const e={throwOnError:!1,errorColor:"#cc0000",strict:!1},n={inlineRenderer:n=>{try{return i.renderToString(n,{...e,displayMode:!1})}catch(r){return`<span style="color: #cc0000">[公式错误: ${r.message}]</span>`}},blockRenderer:n=>{try{return i.renderToString(n,{...e,displayMode:!0})}catch(r){return`<div style="color: #cc0000">[公式错误: ${r.message}]</div>`}}};a=r({html:!0,linkify:!0,typographer:!0,breaks:!1}),a.use(o),a.use(c),a.use(t),a.use(s,{slugify:e=>{const n=String(e).trim().toLowerCase().replace(/\s+/g,"-");return encodeURIComponent(n)},permalink:!0,permalinkSymbol:"¶",renderPermalink:(e,n,r,o)=>{const t=r.tokens[o+1];if(!t||!t.children)return;const s=new r.Token("text","",0);s.content=" ";const l=new r.Token("link_open","a",1);l.attrs=[["href",location.href.split("#")[0]+`#${e}`],["class","header-anchor"]];const i=new r.Token("html_inline","",0);i.content=n.permalinkSymbol||"¶";const c=new r.Token("link_close","a",-1);t.children.push(s,l,i,c)}}),a.use(l,{inlineOpen:"$",inlineClose:"$",blockOpen:"$$",blockClose:"$$",...n}),console.log("Markdown-it initialized")}return a};export{k as initMarkdownIt};
